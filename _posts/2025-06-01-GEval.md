---
title: G-Eval：NLG Evaluation using GPT-4 with Better Human Alignment
date: 2025-06-01 14:44:00 +0800 #时间， 最后为时区北京 +0800
categories: [论文] #上级文档，下级文档
tags: [llm as a judge, 大语言模型]     # TAG
---


目的：使用 llm 评估自然语言生成（natural language generation, NLG）的文本质量

问题的重要性和难点：

1. 【任务】随着NLG系统在多个领域的广泛应用（如摘要生成、对话回复等），**准确评估其输出质量变得至关重要**。
2. 【已有方法】像 BLUE、ROUGE 这类传统的指标和人类评估结果相关度低，特别是哪些需要判断创造性和多样性的任务。如果增加参考输出则成本高昂
3. 【新的方法】近期研究表明，利用大型语言模型（LLMs）作为无参考指标的 NLG 评估方法，其优势在于可适用于缺乏人工参考的新任务。（不能简单的使用语言模型）然而，这些基于大语言模型的评估器在人类评价一致性方面仍逊色于中等规模的神经评估器。

本文工作：使用带有 CoT 的大语言模型框架和表单填写范式来评估 NLG 输出的质量

实验：我们展示了以 GPT-4 为核心模型的 G-EVAL 在摘要任务中与人类评价的 Spearman 相关系数达到 0.514，显著超越了以往所有方法。此外，我们还对基于大语言模型的评估器行为进行了分析，并指出这类评估器可能存在的潜在问题——即对由大语言模型生成的文本存在偏好倾向。

创新点：
1. **llm 的评估指标一般和人评估的更相关**。基于大语言模型（LLM）的评估指标在与人类质量判断的相关性上，通常优于基于参考文本和无参考基准的指标，尤其在开放性和创造性的自然语言生成任务（如对话响应生成）中表现更为突出。
2. **思维链是必要的**。基于 LLM 的评估指标对指令和提示词较为敏感，而思维链（chain-of-thought）技术能通过提供更多上下文和引导，有效提升这类评估器的性能表现。
3. **本研究让 llm 评估指标更加精细**。通过根据各标记概率重新加权离散分数，基于 LLM 的评估指标可输出更精细的连续评分结果。
4. 基于 LLM 的评估指标存在**潜在问题**：相较于人类撰写文本，它们可能更偏好 LLM 生成的内容。若将这类指标作为改进模型自身的奖励信号，可能导致 LLM 的自我强化循环。

## 方法

让大模型根据提示词输出指标值
![image.png](https://raw.githubusercontent.com/InTheFuture7/attachment/main/202506011003687.png)
G-EVAL 的整体框架。我们首先向大语言模型输入任务介绍和评估标准，要求其生成包含详细评估步骤的思维链（CoT）。随后，结合生成的思维链与提示模板，以填表式评估范式对自然语言生成输出进行评测。最终，我们采用输出分数的概率加权求和作为最终得分。

## 数据

关于摘要的数据集

```
[
    {
        "doc_id": "dm-test-8764fb95bfad8ee849274873a92fb8d6b400eee2",
        "system_id": "M11",
        "source": "Paul Merson has restarted his row with Andros Townsend after the Tottenham midfielder was brought on with only seven minutes remaining in his team 's 0-0 draw with Burnley on Sunday . 'Just been watching the game , did you miss the coach ? # RubberDub # 7minutes , ' Merson put on Twitter . Merson initially angered Townsend for writing in his Sky Sports column that 'if Andros Townsend can get in ( the England team ) then it opens it up to anybody . ' Paul Merson had another dig at Andros Townsend after his appearance for Tottenham against Burnley Townsend was brought on in the 83rd minute for Tottenham as they drew 0-0 against Burnley Andros Townsend scores England 's equaliser in their 1-1 friendly draw with Italy in Turin on Tuesday night The former Arsenal man was proven wrong when Townsend hit a stunning equaliser for England against Italy and he duly admitted his mistake . 'It 's not as though I was watching hoping he would n't score for England , I 'm genuinely pleased for him and fair play to him – it was a great goal , ' Merson said . 'It 's just a matter of opinion , and my opinion was that he got pulled off after half an hour at Manchester United in front of Roy Hodgson , so he should n't have been in the squad . 'When I 'm wrong , I hold my hands up . I do n't have a problem with doing that - I 'll always be the first to admit when I 'm wrong . ' Townsend hit back at Merson on Twitter after scoring for England against Italy Sky Sports pundit Merson ( centre ) criticised Townsend 's call-up to the England squad last week Townsend hit back at Merson after netting for England in Turin on Wednesday , saying 'Not bad for a player that should be 'nowhere near the squad ' ay @ PaulMerse ? ' Any bad feeling between the pair seemed to have passed but Merson was unable to resist having another dig at Townsend after Tottenham drew at Turf Moor .",
        "reference": "Andros Townsend an 83rd minute sub in Tottenham 's draw with Burnley . He was unable to find a winner as the game ended without a goal . Townsend had clashed with Paul Merson last week over England call-up .",
        "system_output": "Paul merson was brought on with only seven minutes remaining in his team 's 0-0 draw with burnley . Andros townsend scored the tottenham midfielder in the 89th minute . Paul merson had another dig at andros townsend after his appearance . The midfielder had been brought on to the england squad last week . Click here for all the latest arsenal news news .",
        "scores": {
            "coherence": 1.3333333333333333,
            "consistency": 1.0,
            "fluency": 3.0,
            "relevance": 1.6666666666666667,
            "overall": 1.75
        }
    }
```


## 实验

### benchmark

#### 1. SummEval

评估**摘要**，四方面：流畅性、连贯性、一致性和相关性。

评估 fluenvy 流畅性时，只需要输入摘要内容。其他三个指标评估时需要同时输入文章和摘要
![image.png](https://raw.githubusercontent.com/InTheFuture7/attachment/main/202506011007466.png)


#### 2. Topical-Chat

对话回复，四个方面：自然性、连贯性、引人入胜、基于事实。

![image.png](https://raw.githubusercontent.com/InTheFuture7/attachment/main/202506011008180.png)



#### 3. QAGS

评估摘要任务中的幻觉现象

在两个摘要数据集上摘要的一致性

![image.png](https://raw.githubusercontent.com/InTheFuture7/attachment/main/202506011008184.png)

## 结论

对摘要中实验部分的两点介绍做扩充



## 附录

### 样例提示词

```
You will be given one summary written for a news article.

Your task is to rate the summary on one metric.

Please make sure you read and understand these instructions carefully. Please keep this document open while reviewing, and refer to it as needed.

Evaluation Criteria:

Coherence (1-5) - the collective quality of all sentences. We align this dimension with the DUC quality question of structure and coherence whereby "the summary should be well-structured and well-organized. The summary should not just be a heap of related information, but should build from sentence to a coherent body of information about a topic."

Evaluation Steps:

1. Read the news article carefully and identify the main topic and key points.
2. Read the summary and compare it to the news article. Check if the summary covers the main topic and key points of the news article, and if it presents them in a clear and logical order.
3. Assign a score for coherence on a scale of 1 to 5, where 1 is the lowest and 5 is the highest based on the Evaluation Criteria.


Example:


Source Text:

{{Document}}

Summary:

{{Summary}}


Evaluation Form (scores ONLY):

- Coherence:
```