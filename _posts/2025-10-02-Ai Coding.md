---
title: Ai Coding
date: 2025-10-02 08:00:00 +0800
categories:
  - 工具
tags:
  - claudecode
  - codex
  - cli
  - agumentcode
  - mcp
  - gemini
  - cc-switch
publish: true
---

## 关于 ai coding 工具的一般性方法

1. **任务划分：** 任何时候，都不要去提交一个非常笼统的任务，例如 `请帮我写一个管理系统后台` 等。
2. **掌控之内：** 不要让AI脱离你的认知与掌控之内，不然最终结局就是项目越改越乱，直到从原点重新开始

## 工作流

1. 管理风险，重要的内容不能修改，比如密码、api密钥。可以将重要内容放入ignore文件中
2. 输入
    1. why，用户故事，功能、目标用户/需求
    2. what，具体功能，验收标准
    3. how，详细技术指导，如设计模式、技术架构
    4. 生成任务清单，让 ai 逐个任务/模块开发
3. 输出。TDD（让AI先写测试代码，需要人工审核，然后让ai生成的代码符合测试）    
4. 注意版本控制

## 常用提示词

augmentcode、roocode、[promptpilot](https://promptpilot.volcengine.com/home) 等工具可以优化提示词

1. 撰写开发文档

```
use web search to fetch the SOTA implementation and correct/update my implementation plan @README.md
```

2. 任务计划与审查

```
I have a task:
---
[task content]
---
output the plan. do not code
####################################
I have a task, the other agent claims the following plan:
---
[pasted content]
---
double check it if true or not
```

3. 根据架构文档，撰写任务文档
   
```
Please carefully analyze the model design document (README-en.md) and create a comprehensive development task plan.

**Task Plan Requirements:**
1. **Specificity**: Each task must be concrete and actionable with clear deliverables
2. **Feasibility**: Tasks should be realistic and achievable within reasonable timeframes
3. **Algorithm Development Standards**: Follow established deep learning development best practices including:
   - Proper code structure and documentation
   - Testing and validation procedures
   - Reproducibility requirements
4. **Beginner-Friendly**: Design tasks with minimal friction for deep learning newcomers by:
   - Breaking complex tasks into smaller, manageable steps
   - Providing clear prerequisites and dependencies
   - Including learning resources or references where needed
   - Specifying expected outcomes for each step
5. **Strict Adherence**: Base all tasks exclusively on the content and specifications found in README-en.md

**Output Format:** 
- Use markdown formatting
- Include task numbering and clear hierarchy
- Specify estimated time/effort for each task
- List dependencies between tasks
- Include acceptance criteria for each major milestone

**Quality Assurance:**
Before providing the final task plan, perform a thorough self-review to ensure:
- All requirements above are met
- Tasks are logically sequenced
- No critical steps are missing
- The plan is actionable for the target audience
- All references align with README-en.md content
```

4. 了解项目结构

```
read the @README.md file, you can get a comprehensive understanding of the entire project structure, purpose, and architecture. Only the files mentioned in the "Folder Architecture" section of @README.md need to be read; other files can be ignored.
```

## 工具

### ai coding 工具汇总

| 工具        | 类别      | 特点                                                                                                                                                 | 使用                                                                                                                                                                                  |
| ----------- | --------- | ---------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| ClaudeCode  | CLI；插件 | 原生只支持 Claude 系列模型，如果需要接其他模型，需要 CC-Switch 或 ClaudeCode Router                                                                  | 擅长代码实现                                                                                                                                                                          |
| Codex       | CLI；插件 | 原生只支持 Openai 系列模型                                                                                                                           | 擅长规划、评审、测试、修改bug                                                                                                                                                         |
| Gemini      | CLI       | 可以通过 google云 或 google 账号登录，基本免费使用 google 旗下的主流模型，若用 google云 中 api，数据可能会被用于训练。一言不合就写代码，分析能力还行 | 长上下文，适合规划；可以用来优化博客页面                                                                                                                                              |
| Cursor      | 编辑器    | 太费钱，限制使用区域（开tun）                                                                                                                        |                                                                                                                                                                                       |
| Copilot     | 插件      | 学生免费可申请 pro。在 Vscode 中容易出现截断，模型多，性能不稳定，限制使用区域。PyCharm 体验不如在 vscode 中                                         | [监视 Copilot 使用情况](https://docs.github.com/zh/enterprise-cloud@latest/copilot/managing-copilot/monitoring-usage-and-entitlements/monitoring-your-copilot-usage-and-entitlements) |
| AugmentCode | 插件      | 太贵，上下文优化，感觉竞争力稍差，限制使用区域（开tun）                                                                                              |                                                                                                                                                                                       |
| Trae        | 编辑器    | 优先使用国际版                                                                                                                                       |                                                                                                                                                                                       |
| kiro        | 编辑器    | 感觉不是很好用，但是 spec 工作流值得借鉴                                                                                                             |                                                                                                                                                                                       |
| roocode     | 插件      | 是 cline 的分支，功能迭代更快，但配置较为复杂                                                                                                        |                                                                                                                                                                                       |
| cline       | 插件      | 很少使用                                                                                                                                             |                                                                                                                                                                                       |

1. 当前的 cursor、claude code、copilot、trae、augment 都主要是调用 claude、gpt、gemini 模型，区别在于不同的厂商自定义的工具不同，这些工具就是让大模型能够阅读代码、调用命令行运行代码、存储记忆等工具，决定了不同软件的编程能力。

2. 避免使用大模型配置环境（安装依赖包、切换 Python 虚拟环境等）。如果在 vscode 中，可以[设置默认 Python 虚拟环境](https://blog.csdn.net/duanyuwangyuyan/article/details/108149364)，避免大模型无法切换环境。

3. 如果使用 Pycharm 在本地创建项目映射，在服务器端运行代码，部分工具（如：augmentcode）可能无法正确识别路径和所处系统。

4. 开 tun 模式可能导致无法下载 python 包

### CLI

| 目的                      | ClaudeCode                                                             | Codex                                            | Gemini                         |
| ----------------------- | ---------------------------------------------------------------------- | ------------------------------------------------ | ------------------------------ |
| 回退指定版本                  | `npm install -g @anthropic-ai/claude-code@2.0.72`                      | `npm install -g @openai/codex@<version>`         | 一般不需要                          |
| 更新                      | `claude update`                                                        | codex 启动后提示是否更新，并给出更新命令                          | 一般不需要，默认自动更新                   |
| 初始化项目，创建 xxx.md 总结性文档   | /init                                                                  | /init<br>感觉总结的内容非常浅显，需要引导？                       | /init                          |
| 展示历史对话列表，并切换/恢复对话       | /resume                                                                | codex resume，在弹出的历史会话列表中选择<br>codex resume –last | /resume                        |
| 修改对话名                   | /rename                                                                | -                                                | -                              |
| 结束当前会话，并清空上下文           | /clear<br>完全换思路、重构                                                     | -                                                | /clear                         |
| 可视化显示当前上下文的状态，以及组成内容    | /context                                                               | -                                                | -                              |
| 压缩上下文                   | /compact<br>还想保留关键信息                                                   |                                                  |                                |
| 个性化指令                   | /xxxx<br>在文件夹下面定义若干 markdown 文件，编排任务内容以及执行流程 `.claude/commands/xxx.md` | 未知                                               | 未知                             |
| 思考强度                    | 2.0.70左右的版本，仅当输入 ultrathink 时会有标识                                      | -<br>可能在模型名中明确思考强度                               | -<br>可能在模型名中明确思考强度             |
| 规划模式                    | alt+m                                                                  | -                                                | -                              |
| 在 notepad 中编辑输入，适合复制长文本 | ctrl+g                                                                 | -<br>可直接在输入框中粘贴长文本，体验还行。从输入框中复制文本会增加一些特殊字符       | ctrl+x<br>在每行行尾增加 `\` 也可以，但不稳定 |
| 粘贴图片                    | ctrl+v                                                                 | -                                                | -                              |
| 停止回答                    | esc 或 ctrl+c<br>在 pycharm 的终端里按 esc 键，需要先点击终端内部以激活终端，然后按住鼠标左键，再按esc键   | esc 或 ctrl+c                                     | ctrl+c                         |
| 清空输入                    | ctrl+c                                                                 | ctrl+c                                           | ctrl+c                         |
| 结束会话，退出 CLI             | 连续两次 ctrl+c                                                            | 无输入时按一次 ctrl+c 即可退出                              | 连续两次 ctrl+c                    |

#### claudecode

Anthropic 官方的 **Claude Code 实战课程**：https://note.mowen.cn/detail/1_ZEnLT5BCYVsix54iB77

agent：定义若干智能体，参考：https://github.com/wshobson/agents

hooks：在执行某个任务前或后自动开始某个任务。

主智能体和子智能体。每个任务都是由一个子智能体完成，然后子智能体完成任务后将信息反馈给主智能体，不影响主智能体的上下文。

#### codex

让 codex 做bug检查，会过于细致，比如假设各种可能存在的情况，这时需要提前告知一些信息。

| 模型列表      | 个人感受                               | 他人评价                    |
| ------------- | -------------------------------------- | --------------------------- |
| GPT 5.1       |                                        |                             |
| GPT 5.1 codex | gpt-5.1-codex-max-xhigh 还行，速度较快 |                             |
| GPT 5.2       |                                        | 能力强，速度慢              |
| GPT 5.2 codex |                                        | 解决问题能力不强，容易写bug |

codex 中配置 mcp 的命令

```toml
[mcp_servers]

[mcp_servers.desktop-commander]
command = "cmd"
args = ["/c", "npx", "-y", "@wonderwhy-er/desktop-commander@latest", "--no-onboarding"]

[mcp_servers.desktop-commander.env]
SystemRoot = 'C:\Windows'

[mcp_servers.langchain-docs]
url = "https://docs.langchain.com/mcp"
```

### MCP

| mcp                                                                      | 作用                                                                                                                                        |
| ------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------- |
| [context7](https://github.com/upstash/context7)                          | 更新大模型的上下文，补充最新版本的文档、样例代码等信息                                                                                      |
| Sequential Thinking                                                      | 多步思考与规划                                                                                                                              |
| [Desktop-Commander](https://github.com/wonderwhy-er/DesktopCommanderMCP) | 文件操作工具，前期 codex 在 windows 系统上读写文件不方便，推荐安装。在 0.75 左右的版本中，codex 在 windows 系统上读写文件有改进，可以不安装 |

### 辅助工具

| 工具名                                                                 | 特点                                                                                                    |
| ---------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------- |
| [cc-switch](https://github.com/farion1231/cc-switch)                   | 支持为 CC、CX、Gemini 快捷切换多家 api 提供商，还可以统一配置 mcp、skill，关于mcp配置有点麻烦，其他还好 |
| [mcp-router](https://github.com/mcp-router/mcp-router)                 | 为主流 CLI、编辑器配置 mcp，操作有点复杂                                                                |
| [claude-code-router](https://github.com/musistudio/claude-code-router) | 支持在 cc 中使用其他的大模型 api，和 cc-switch 功能有点重叠                                             |
