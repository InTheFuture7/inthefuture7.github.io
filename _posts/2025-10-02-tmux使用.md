---
title: tmux使用
date: 2025-10-02 00:00:00 +0800
categories:
  - 工具
tags:
  - tmux
  - 终端
publish: true
---

| 命令                                                                                                           | 含义                                       |
| ------------------------------------------------------------------------------------------------------------ | ---------------------------------------- |
| `tmux new -s <session_name>`                                                                                 | 新建会话                                     |
| `tmux -u`                                                                                                    | 附带 `-u` 参数显示中文                           |
| `tmux detach` <br>或快捷键 `ctrl+b d`（先按 `ctrl+b`，松开后再按 `d`）                                                     | 会话分离                                     |
| `tmux attach-session -t <session_name>` <br/>`tmux attach -t <session_name>` <br/>`tmux a -t <session_name>` | 重新连接到会话                                  |
| `tmux switch -t <session_name>`                                                                              | 切换会话                                     |
| `tmux rename-session -t <old_session_name> <new_session_name>`                                               | 重命名会话                                    |
| `tmux kill-session -t <session_name>`                                                                        | 杀死会话                                     |
| `tmux ls`                                                                                                    | 查看会话列表                                   |
| 快捷键 `ctrl+b [`                                                                                               | 查看历史缓冲区的内容                               |
| `tmux list-panes -t train -F '#{session_name}:#{window_index}.#{pane_index} #{pane_title}'`                  | 列出会话 `train` 里所有 pane 的编号                |
| `tmux capture-pane -t train:0.0 -S - -J -p > output.txt`                                                     | 将会话 `train` 中 `pane:0` 中的历史缓冲区输出到 txt 文件 |
| Ctrl + b <br/>: # 进入命令模式<br/>clear-history                                                                   | 清空 tmux 历史输出（配合 `clear` 清空当前屏幕上的文字）      |
| tmux rename-session -t old_name session_new                                                                  | 修改 session 名                             |

增加历史缓冲区大小

默认历史缓冲区大小为 2000 行，一旦超出，则隐藏最早的信息。

```bash
# 1. 查看当前历史缓冲区限制
tmux show-options -g history-limit

# 2. ~/.tmux.conf 文件中添加。如果没有就创建
set-option -g history-limit 5000

# 3. 重新加载配置
tmux source-file ~/.tmux.conf
```

直接在终端中按照如下命令执行python代码，可以同时将输出显示在终端中，同时写入文件中：`python xxx.py | tee output.txt`



同类软件：nohup、screen



参考： 

[tmux使用指南：比screen好用n倍！ - 知乎](https://zhuanlan.zhihu.com/p/386085431)

[Tmux 使用教程 - 阮一峰的网络日志](https://www.ruanyifeng.com/blog/2019/10/tmux.html)